<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì˜í™” ìˆ˜ì • í˜ì´ì§€</title>
    <style>
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
          font-family: "Noto Sans KR", sans-serif;
        }

        body {
          padding: 10px;
        }

        /* ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
        .navbar {
          display: flex;
          border: 2px solid black;
        }

        .nav-item {
          flex: 0 0 100px;
          text-align: center;
          padding: 20px 0;
          font-size: 1.5rem;
          border-right: 2px solid #004b63;
          cursor: pointer;
        }

        .nav-item:last-child {
          border-right: none;
        }

        /* ì „ì²´ ë ˆì´ì•„ì›ƒ */
        .container {
          display: flex;
          gap: 20px;
          border: 2px solid #d36b00;
          margin-top: 20px;
          padding: 20px;
          justify-content: space-between;
        }

        /* ì™¼ìª½ */
        .left {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 10px;
          flex: 1;
        }

        .photo-box {
          border: 2px solid #d36b00;
          width: 200px;
          height: 250px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          font-size: 1rem;
          overflow: hidden;
          position: relative;
        }

        .photo-box img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .date {
          border: 2px solid #d36b00;
          width: 200px;
          text-align: center;
          padding: 10px 0;
          font-size: 1.1rem;
        }

        /* ì˜¤ë¥¸ìª½ */
        .right {
          flex: 2;
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .info-row {
          display: flex;
          gap: 10px;
        }

        .movie-title {
          flex: 2;
          border: 2px solid #d36b00;
          padding: 8px;
          font-size: 1.1rem;
        }

        .rating {
          flex: 1;
          border: 2px solid #d36b00;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 5px;
          font-size: 1.3rem;
          cursor: pointer;
        }

        .review {
          border: 2px solid #d36b00;
          height: 200px;
          padding: 10px;
          font-size: 1rem;
          resize: none;
        }

        .btn-group {
          display: flex;
          justify-content: flex-end;
          gap: 5px;
        }

        .btn {
          border: 2px solid #d36b00;
          background-color: white;
          padding: 8px 20px;
          font-size: 1.1rem;
          cursor: pointer;
        }

        .btn:hover {
          background-color: #ffe9d0;
        }

        input[type="file"] {
          font-size: 0.9rem;
        }

        .orange {
          font-size: 1.6rem;
          cursor: pointer;
          transition: transform 0.1s;
        }

        .orange:hover {
          transform: scale(1.2);
        }

        .selected {
          filter: grayscale(0%);
        }

        .unselected {
          filter: grayscale(100%);
        }
    </style>
</head>

<body>
<!-- ìƒë‹¨ ë©”ë‰´ -->
<header class="navbar">
    <div class="nav-item" onclick="goHome()">í™ˆ</div>
    <div class="nav-item" onclick="goRegister()">ë“±ë¡</div>
</header>

<!-- ë©”ì¸ -->
<main class="container">
    <div class="left">
        <div class="photo-box" id="photoBox">
            <span>ì‚¬ì§„ ë¯¸ë¦¬ë³´ê¸°</span>
            <input type="file" id="photoInput" accept="image/*" />
        </div>
        <input type="date" class="date" id="dateInput" />
    </div>

    <div class="right">
        <div class="info-row">
            <input type="text" class="movie-title" id="movieInput" placeholder="ì˜í™” ì´ë¦„" />
            <div class="rating" id="ratingBox">
                <span class="orange unselected">ğŸŠ</span>
                <span class="orange unselected">ğŸŠ</span>
                <span class="orange unselected">ğŸŠ</span>
                <span class="orange unselected">ğŸŠ</span>
                <span class="orange unselected">ğŸŠ</span>
            </div>
        </div>
        <textarea class="review" id="reviewInput" placeholder="ë¦¬ë·°ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”..."></textarea>

        <div class="btn-group">
            <button class="btn" id="editBtn">ìˆ˜ì •</button>
            <button class="btn" id="deleteBtn">ì‚­ì œ</button>
        </div>
    </div>
</main>

<script>
    // ì‚¬ì§„ ë¯¸ë¦¬ë³´ê¸°
    const photoInput = document.getElementById("photoInput");
    const photoBox = document.getElementById("photoBox");

    photoInput.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (e) => {
          photoBox.innerHTML = `<img src="${e.target.result}" alt="ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€">`;
        };
        reader.readAsDataURL(file);
      }
    });

    // ë³„ì  í´ë¦­
    const ratingBox = document.getElementById("ratingBox");
    const oranges = ratingBox.querySelectorAll(".orange");
    let selectedRating = 0;

    oranges.forEach((orange, index) => {
      orange.addEventListener("click", () => {
        selectedRating = index + 1;
        oranges.forEach((o, i) => {
          if (i < selectedRating) {
            o.classList.add("selected");
            o.classList.remove("unselected");
          } else {
            o.classList.add("unselected");
            o.classList.remove("selected");
          }
        });
      });
    });

    // ìˆ˜ì • ë²„íŠ¼
    document.getElementById("editBtn").addEventListener("click", () => {
      const movie = document.getElementById("movieInput").value;
      const review = document.getElementById("reviewInput").value;
      const date = document.getElementById("dateInput").value;
      console.log("ìˆ˜ì •ëœ ì •ë³´:", { movie, review, date, selectedRating });

      // ë“±ë¡ í˜ì´ì§€ë¡œ ì´ë™
      window.location.href = "register.html";
    });

    // ì‚­ì œ ë²„íŠ¼
    document.getElementById("deleteBtn").addEventListener("click", () => {
      alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤. í™ˆìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
      window.location.href = "index.html";
    });

    // ë„¤ë¹„ê²Œì´ì…˜ í´ë¦­
    function goHome() {
      window.location.href = "index.html";
    }

    function goRegister() {
      window.location.href = "register.html";
    }
</script>
</body>
</html>
